<!DOCTYPE html>
<html>

<head>
    <title>Aplicacion Matriculas</title>
    <!-- ---------------------------------------------------- -->
    <script src="logicaFake/obtenerTodasLasMediciones.js"></script>
    <script src="logicaFake/obtenerUltimasMediciones.js"></script>
    <!-- ---------------------------------------------------- -->
    <script>
        function ObtenerLasMedicionesPulsado() {
            document.getElementById("salidaTodasLasMediciones").innerHTML = "";
            // llamo a la función de la lógica (versión fake)
            obtenerTodasLasMediciones(function (res) {
                // cuando tenga el resultado lo muestro
                res.forEach(element => {
                    document.getElementById("salidaTodasLasMediciones").innerHTML += element.idMedicion + " " + element.idUsuario + " " + element.valor + " " + element.fecha + " " + element.idSensor + "<br>";
                });
            })
        }
    </script>
    <!-- ---------------------------------------------------- -->
    <script>
        function ObtenerUltimasMedicionesPulsado() {
            document.getElementById("salidaSalidaUltimasMediciones").innerHTML = "";
            var codigo = document.getElementById("codigoFecha").value
            // llamo a la función de la lógica (versión fake)
            obtenerUltimasMediociones(codigo, function (res) {
                // cuando tenga el resultado lo muestro
                res.forEach(element => {
                    document.getElementById("salidaSalidaUltimasMediciones").innerHTML += element.idMedicion + " " + element.idUsuario + " " + element.valor + " " + element.fecha + " " + element.idSensor + "<br>";
                });
            })
        }
    </script>
</head>

<body>
    <!-- ---------------------------------------------------- -->
    <h1>Aplicación para obtener mediciones</h1>
    <!-- ---------------------------------------------------- -->

    <p>Obtener todas las mediciones</p>

    <p id="salidaTodasLasMediciones"></p>

    <button type="buton" onclick="ObtenerLasMedicionesPulsado()">obtener todas las mediciones</button>

    <!------------------------------------------------------ -->
    <p>Obtener Ultimas Mediciones</p>

    <form>
        Fecha desde donde quiere obtener mediciones:<br>
        <input id="codigoFecha" type="date" name="codigoFecha" value="">
        <br>
    </form>

    <p id="salidaSalidaUltimasMediciones"></p>

    <button type="buton" onclick="ObtenerUltimasMedicionesPulsado()">Buscar Ultimas Mediciones</button>
    <!------------------------------------------------------ -->
</body>

</html>